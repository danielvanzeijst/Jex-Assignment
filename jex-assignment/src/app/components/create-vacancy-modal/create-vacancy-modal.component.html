<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" role="dialog"
    aria-labelledby="modal-title" aria-modal="true" (click)="handleClose()">
    <div class="bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 relative" (click)="$event.stopPropagation()">
        <!-- Close button -->
        <button (click)="handleClose()"
            class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-jex-secondary"
            aria-label="Close modal">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>

        <!-- Modal content -->
        <div class="p-6">
            <h2 id="modal-title" class="text-2xl font-oswald font-semibold text-jex-primary mb-6">Create New Position
            </h2>

            <form class="space-y-4" (submit)="handleSave(); $event.preventDefault()">
                <div class="flex flex-col">
                    <label for="title" class="text-sm font-medium text-gray-700 mb-1">Position Title</label>
                    <input type="text" id="title" [formControl]="title" placeholder="e.g. Senior Developer" required
                        aria-required="true"
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-jex-secondary focus:border-transparent outline-none transition-all">
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="flex flex-col">
                        <label for="salaryMin" class="text-sm font-medium text-gray-700 mb-1">Minimum Salary</label>
                        <div class="relative">
                            <span class="absolute left-3 top-2 text-gray-500" aria-hidden="true">€</span>
                            <input type="number" id="salaryMin" [formControl]="salaryMin" placeholder="0" required
                                aria-required="true" min="0"
                                class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-jex-secondary focus:border-transparent outline-none transition-all">
                        </div>
                    </div>

                    <div class="flex flex-col">
                        <label for="salaryMax" class="text-sm font-medium text-gray-700 mb-1">Maximum Salary</label>
                        <div class="relative">
                            <span class="absolute left-3 top-2 text-gray-500" aria-hidden="true">€</span>
                            <input type="number" id="salaryMax" [formControl]="salaryMax" placeholder="0" required
                                aria-required="true" min="0"
                                class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-jex-secondary focus:border-transparent outline-none transition-all">
                        </div>
                    </div>
                </div>

                <button type="submit"
                    class="w-full inline-flex items-center justify-center px-4 py-3 bg-jex-primary hover:bg-jex-secondary text-white font-medium rounded-md shadow-lg transition-all duration-200 ease-in-out hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-jex-primary space-x-2 group"
                    [disabled]="!title.value || !salaryMin.value || !salaryMax.value"
                    [attr.aria-disabled]="!title.value || !salaryMin.value || !salaryMax.value">
                    <span class="group-hover:text-jex-primary transition-colors duration-200">Create position</span>
                </button>
            </form>
        </div>
    </div>
</div>